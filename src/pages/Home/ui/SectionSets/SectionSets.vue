<template>
  <div class="sets-section">
    <BlockWithSliderPhone
      v-if="isPhone"
      :products="products"
      title="Готовые наборы по выгодной цене"
    >
      <template v-slot:title-bg-container>
        <svg
          viewBox="0 0 497 136"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M443.187 116.015L438.087 116.215C408.387 115.515 375.487 115.315 340.187 115.615C272.787 116.215 204.087 119.815 143.187 126.115C114.087 129.115 88.0872 132.215 65.7872 135.215L63.3872 135.415C48.3872 136.215 34.9872 132.715 23.4872 124.915C13.8872 118.415 2.08719 105.615 0.787188 82.0149C0.0871875 69.3149 3.38719 57.0149 10.6872 45.7149C16.5872 36.5149 28.1872 24.8149 49.7872 21.3149L50.5872 21.2149C80.3872 17.2149 110.487 13.7149 139.987 10.9149C169.787 8.11493 200.387 5.81493 231.087 4.11493C296.787 0.514926 367.187 -0.485074 440.287 1.11493C463.587 1.11493 476.887 12.0149 483.987 21.1149C492.587 32.2149 496.987 45.1149 496.887 58.5149C496.687 71.6149 492.487 83.8149 484.387 94.7149C477.587 103.715 464.987 114.815 443.187 116.015Z"
            fill="#E6EFFF"
          />
        </svg>
      </template>
    </BlockWithSliderPhone>

    <BlockWithSlider
      v-else
      :products="products"
      title="Готовые наборы по выгодной цене"
    >
      <template v-slot:image-bg-container>
        <svg
          width="66"
          height="73"
          viewBox="0 0 66 73"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M14.4999 26.5516C11.9999 25.0516 9.29994 23.5516 6.49994 22.0516C4.89994 21.1516 3.79994 20.0516 3.29994 18.6516C2.79994 17.2516 2.79994 15.9516 3.19994 14.6516C3.59994 13.3516 4.39994 12.1516 5.49994 11.2516C6.59994 10.2516 7.89994 9.75156 9.39994 9.75156C10.5999 9.75156 11.6999 10.0516 12.6999 10.5516C15.2999 11.8516 17.8999 13.2516 20.2999 14.5516C22.7999 15.9516 25.0999 17.2516 27.2999 18.5516V7.45156C27.2999 5.25156 27.9999 3.65156 29.3999 2.55156C30.6999 1.35156 32.1999 0.851562 33.8999 0.851562C35.4999 0.851562 36.9999 1.35156 38.3999 2.45156C39.7999 3.55156 40.3999 5.25156 40.3999 7.45156V22.0516L56.4999 14.3516C57.3999 13.9516 58.3999 13.6516 59.5999 13.6516C61.0999 13.6516 62.3999 14.1516 63.4999 15.1516C64.5999 16.1516 65.2999 17.3516 65.6999 18.6516C66.0999 20.0516 65.9999 21.3516 65.4999 22.7516C64.9999 24.1516 63.8999 25.2516 62.0999 26.1516L47.1999 33.3516C52.4999 37.9516 57.8999 43.1516 63.3999 49.1516C64.5999 50.3516 65.2999 51.6516 65.3999 52.9516C65.4999 54.2516 65.2999 55.4516 64.6999 56.4516C64.1999 57.4516 63.3999 58.3516 62.2999 59.0516C61.2999 59.7516 60.0999 60.1516 58.7999 60.1516C56.9999 60.1516 55.4999 59.4516 53.9999 58.0516C51.4999 55.5516 49.0999 53.2516 46.8999 51.0516C44.7999 48.8516 42.5999 46.7516 40.3999 44.8516V65.5516C40.3999 67.7516 39.6999 69.3516 38.2999 70.4516C36.8999 71.5516 35.3999 72.0516 33.7999 72.0516C32.1999 72.0516 30.6999 71.5516 29.2999 70.4516C27.8999 69.3516 27.1999 67.7516 27.1999 65.5516V42.8516L9.89994 51.2516C8.99994 51.6516 7.99994 51.8516 6.79994 51.8516C5.29994 51.8516 3.99994 51.3516 2.89994 50.3516C1.79994 49.3516 1.09994 48.1516 0.699943 46.8516C0.299943 45.4516 0.399943 44.0516 0.899943 42.6516C1.39994 41.2516 2.49994 40.1516 4.29994 39.3516L21.8999 30.9516C19.3999 29.5516 16.9999 28.0516 14.4999 26.5516Z"
            fill="#5F73AA"
          />
        </svg>
      </template>
      <template v-slot:title-bg-container>
        <svg
          width="497"
          height="136"
          viewBox="0 0 497 136"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M443.187 116.015L438.087 116.215C408.387 115.515 375.487 115.315 340.187 115.615C272.787 116.215 204.087 119.815 143.187 126.115C114.087 129.115 88.0872 132.215 65.7872 135.215L63.3872 135.415C48.3872 136.215 34.9872 132.715 23.4872 124.915C13.8872 118.415 2.08719 105.615 0.787188 82.0149C0.0871875 69.3149 3.38719 57.0149 10.6872 45.7149C16.5872 36.5149 28.1872 24.8149 49.7872 21.3149L50.5872 21.2149C80.3872 17.2149 110.487 13.7149 139.987 10.9149C169.787 8.11493 200.387 5.81493 231.087 4.11493C296.787 0.514926 367.187 -0.485074 440.287 1.11493C463.587 1.11493 476.887 12.0149 483.987 21.1149C492.587 32.2149 496.987 45.1149 496.887 58.5149C496.687 71.6149 492.487 83.8149 484.387 94.7149C477.587 103.715 464.987 114.815 443.187 116.015Z"
            fill="#E6EFFF"
          />
        </svg>
      </template>
    </BlockWithSlider>
  </div>
</template>

<script lang="ts">
import { computed, defineComponent, PropType } from "vue";
import { BlockWithSlider, BlockWithSliderPhone } from "@/widgets";
import { Product } from "@/entities/Products/Product/model";
import { useStore } from "@/services/vuex";

export default defineComponent({
  name: "SectionSets",
  components: {
    BlockWithSlider,
    BlockWithSliderPhone,
  },
  props: {
    products: {
      type: Object as PropType<Product[]>,
      required: true,
    },
  },
  setup() {
    const store = useStore();
    return {
      isPhone: computed(() => store.state.isPhone),
    };
  },
});
</script>

<style lang="scss" scoped>
.sets-section {
}
@media screen and (min-width: 320px) and (max-width: 736px), (-webkit-min-device-pixel-ratio: 3){
  .sets-section {
    & > div {
      margin: 0 auto;
    }
    :deep .block-with-slider-phone__header__title {
      max-width: 250px;
    }
  }
}
</style>
